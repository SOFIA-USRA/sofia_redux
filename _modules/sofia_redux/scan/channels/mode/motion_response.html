<!DOCTYPE html>

<html lang="en" data-content_root="../../../../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>sofia_redux.scan.channels.mode.motion_response &#8212; sofia_redux v1.3.4.dev38+g92ea2f4</title>
    <link rel="stylesheet" type="text/css" href="../../../../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../../../../_static/bootstrap-sofia.css?v=3fe2c07e" />
    <link rel="stylesheet" type="text/css" href="../../../../../_static/graphviz.css?v=eafc0fe6" />
    <link rel="stylesheet" type="text/css" href="../../../../../_static/plot_directive.css" />
    
    <script src="../../../../../_static/jquery.js?v=5d32c60e"></script>
    <script src="../../../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
    <script src="../../../../../_static/documentation_options.js?v=6aa39468"></script>
    <script src="../../../../../_static/doctools.js?v=888ff710"></script>
    <script src="../../../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script type="text/javascript" src="../../../../../_static/sidebar.js"></script>
    <script type="text/javascript" src="../../../../../_static/copybutton.js"></script>
    <link rel="icon" href="../../../../../_static/redux.ico"/>
    <link rel="index" title="Index" href="../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../search.html" />
    <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:200,600' rel='stylesheet' type='text/css'/>

  </head><body>
<div class="topbar">
  <a class="brand" title="Documentation Home" href="../../../../../index.html"><span id="logotext1">SOFIA</span><span id="logotext2">Redux</span><span id="logotext3">:docs</span></a>
  <ul>
    <li><a class="homelink" title="SOFIA Homepage" href="https://irsa.ipac.caltech.edu/Missions/sofia.html"></a></li>
    <li><a title="General Index" href="../../../../../genindex.html">Index</a></li>
    <li><a title="Module Index" href="../../../../../py-modindex.html">Modules</a></li>
    <li>
      
      
<form action="../../../../../search.html" method="get">
  <input type="text" name="q" placeholder="Search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
      
    </li>
  </ul>
</div>

<div class="related">
    <h3>Navigation</h3>
    <ul>
      <li>
	<a href="../../../../../index.html">sofia_redux v1.3.4.dev38+g92ea2f4</a>
	 &#187;
      </li>
      <li><a href="../../../../index.html" accesskey="U">Module code</a> &#187;</li>
      
       
    </ul>
</div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <h1>Source code for sofia_redux.scan.channels.mode.motion_response</h1><div class="highlight"><pre>
<span></span># Licensed under a 3-clause BSD style license - see LICENSE.rst

from abc import abstractmethod
import re

from sofia_redux.scan.channels.mode.response import Response
from sofia_redux.scan.flags.motion_flags import MotionFlags

__all__ = [&#39;MotionResponse&#39;]


<div class="viewcode-block" id="MotionResponse">
<a class="viewcode-back" href="../../../../../api/sofia_redux.scan.channels.mode.motion_response.MotionResponse.html#sofia_redux.scan.channels.mode.motion_response.MotionResponse">[docs]</a>
class MotionResponse(Response):

    def __init__(self, channel_group=None, gain_provider=None, name=None):
        &quot;&quot;&quot;
        An abstract response mode class.

        A mode is an object that is applied to a given channel group, defining
        what constitutes its &quot;gain&quot; and how to operate thereon.  This is
        also dependent on a gain provider.

        The motion response is designed to extract a signal from an integration
        based on some function of position, defined by a specific direction
        operator.  The direction operator is an instance of the `MotionFlags`
        class.

        Parameters
        ----------
        channel_group : ChannelGroup, optional
            The channel group owned by the mode.
        gain_provider : str or GainProvider, optional
            If a string is provided a `FieldGainProvider` will be set to
            operate on the given field of the channel group.
        name : str, optional
            The name of the mode.  If not provided, will be determined from the
            channel group name (if available).  To set the direction, the name
            should be of the form &lt;name&gt;-&lt;direction&gt; or &lt;name&gt;:&lt;direction&gt;.
        &quot;&quot;&quot;
        self.direction = None
        super().__init__(channel_group=channel_group,
                         gain_provider=gain_provider,
                         name=name)

<div class="viewcode-block" id="MotionResponse.set_name">
<a class="viewcode-back" href="../../../../../api/sofia_redux.scan.channels.mode.motion_response.MotionResponse.html#sofia_redux.scan.channels.mode.motion_response.MotionResponse.set_name">[docs]</a>
    def set_name(self, name=None):
        &quot;&quot;&quot;
        Set the name of the mode.

        If not provided, the name will be determined from the channel group.
        If no channel group is available, the name will not be set.  If the
        direction can be determined from the name, it will be set here.

        Parameters
        ----------
        name : str, optional
            The new name of the mode.  To set the direction, the name should
            be of the form &lt;name&gt;-&lt;direction&gt; or &lt;name&gt;:&lt;direction&gt;.

        Returns
        -------
        None
        &quot;&quot;&quot;
        super().set_name(name)
        if isinstance(self.name, str):
            direction = re.split(r&#39;[-:]&#39;, self.name)[1]
            self.set_direction(direction)</div>


<div class="viewcode-block" id="MotionResponse.set_direction">
<a class="viewcode-back" href="../../../../../api/sofia_redux.scan.channels.mode.motion_response.MotionResponse.html#sofia_redux.scan.channels.mode.motion_response.MotionResponse.set_direction">[docs]</a>
    def set_direction(self, direction):
        &quot;&quot;&quot;
        Set the direction attribute to a MotionFlags instance.

        Parameters
        ----------
        direction : str or MotionFlags.flags

        Returns
        -------
        None
        &quot;&quot;&quot;
        self.direction = MotionFlags(direction)</div>


<div class="viewcode-block" id="MotionResponse.get_signal">
<a class="viewcode-back" href="../../../../../api/sofia_redux.scan.channels.mode.motion_response.MotionResponse.html#sofia_redux.scan.channels.mode.motion_response.MotionResponse.get_signal">[docs]</a>
    def get_signal(self, integration):
        &quot;&quot;&quot;
        Return a signal object from an integration.

        Parameters
        ----------
        integration : Integration

        Returns
        -------
        Signal
        &quot;&quot;&quot;
        direction = MotionFlags(self.direction.direction)
        return self.get_signal_from_direction(integration, direction)</div>


<div class="viewcode-block" id="MotionResponse.get_signal_from_direction">
<a class="viewcode-back" href="../../../../../api/sofia_redux.scan.channels.mode.motion_response.MotionResponse.html#sofia_redux.scan.channels.mode.motion_response.MotionResponse.get_signal_from_direction">[docs]</a>
    @abstractmethod
    def get_signal_from_direction(self, integration,
                                  direction):  # pragma: no cover
        &quot;&quot;&quot;
        Return a signal object from an integration and direction.

        Parameters
        ----------
        integration : Integration
        direction : MotionFlags

        Returns
        -------
        Signal
        &quot;&quot;&quot;
        pass</div>
</div>

</pre></div>

            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><h3>Page Contents</h3>


        </div>
      </div>
      <div class="clearer"></div>
    </div>
<footer class="footer">
  <p class="pull-right"> &nbsp;
    <a href="#">Back to Top</a></p>
  <p>
    &copy; Copyright 2024, SOFIA-USRA.<br/>
    Created using <a href="http://www.sphinx-doc.org/en/stable/">Sphinx</a> 7.2.6. &nbsp;
    Last built 05 Feb 2024. <br/>
  </p>
</footer>
  </body>
</html>