<!DOCTYPE html>

<html lang="en" data-content_root="../../../../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>sofia_redux.pipeline.sofia.parameters.fifils_parameters &#8212; sofia_redux v1.3.4.dev38+g92ea2f4</title>
    <link rel="stylesheet" type="text/css" href="../../../../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../../../../_static/bootstrap-sofia.css?v=3fe2c07e" />
    <link rel="stylesheet" type="text/css" href="../../../../../_static/graphviz.css?v=eafc0fe6" />
    <link rel="stylesheet" type="text/css" href="../../../../../_static/plot_directive.css" />
    
    <script src="../../../../../_static/jquery.js?v=5d32c60e"></script>
    <script src="../../../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
    <script src="../../../../../_static/documentation_options.js?v=6aa39468"></script>
    <script src="../../../../../_static/doctools.js?v=888ff710"></script>
    <script src="../../../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script type="text/javascript" src="../../../../../_static/sidebar.js"></script>
    <script type="text/javascript" src="../../../../../_static/copybutton.js"></script>
    <link rel="icon" href="../../../../../_static/redux.ico"/>
    <link rel="index" title="Index" href="../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../search.html" />
    <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:200,600' rel='stylesheet' type='text/css'/>

  </head><body>
<div class="topbar">
  <a class="brand" title="Documentation Home" href="../../../../../index.html"><span id="logotext1">SOFIA</span><span id="logotext2">Redux</span><span id="logotext3">:docs</span></a>
  <ul>
    <li><a class="homelink" title="SOFIA Homepage" href="https://irsa.ipac.caltech.edu/Missions/sofia.html"></a></li>
    <li><a title="General Index" href="../../../../../genindex.html">Index</a></li>
    <li><a title="Module Index" href="../../../../../py-modindex.html">Modules</a></li>
    <li>
      
      
<form action="../../../../../search.html" method="get">
  <input type="text" name="q" placeholder="Search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
      
    </li>
  </ul>
</div>

<div class="related">
    <h3>Navigation</h3>
    <ul>
      <li>
	<a href="../../../../../index.html">sofia_redux v1.3.4.dev38+g92ea2f4</a>
	 &#187;
      </li>
      <li><a href="../../../../index.html" accesskey="U">Module code</a> &#187;</li>
      
       
    </ul>
</div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <h1>Source code for sofia_redux.pipeline.sofia.parameters.fifils_parameters</h1><div class="highlight"><pre>
<span></span># Licensed under a 3-clause BSD style license - see LICENSE.rst
&quot;&quot;&quot;FIFI-LS parameter sets.&quot;&quot;&quot;

from sofia_redux.pipeline.parameters import Parameters

__all__ = [&#39;FIFILSParameters&#39;]


# Store default values for all parameters here.
# They could equivalently be read from a file, or
# constructed programmatically.  All keys are optional;
# defaults are specified in the ParameterSet object.
# All &#39;key&#39; values should be unique.
DEFAULT = {
    &#39;checkhead&#39;: [
        {&#39;key&#39;: &#39;abort&#39;,
         &#39;name&#39;: &#39;Abort reduction for invalid headers&#39;,
         &#39;value&#39;: True,
         &#39;description&#39;: &#39;If set, the reduction will be &#39;
                        &#39;aborted if the input headers &#39;
                        &#39;do not meet requirements&#39;,
         &#39;dtype&#39;: &#39;bool&#39;,
         &#39;wtype&#39;: &#39;check_box&#39;}
    ],
    &#39;split_grating_and_chop&#39;: [
        {&#39;key&#39;: &#39;save&#39;,
         &#39;name&#39;: &#39;Save output&#39;,
         &#39;value&#39;: False,
         &#39;description&#39;: &#39;Save output data to disk&#39;,
         &#39;dtype&#39;: &#39;bool&#39;,
         &#39;wtype&#39;: &#39;check_box&#39;},
        {&#39;key&#39;: &#39;parallel&#39;,
         &#39;name&#39;: &#39;Use parallel processing&#39;,
         &#39;hidden&#39;: True,
         &#39;value&#39;: False,
         &#39;description&#39;: &#39;If set, processing will be &#39;
                        &#39;distributed across multiple cores.&#39;,
         &#39;dtype&#39;: &#39;bool&#39;,
         &#39;wtype&#39;: &#39;check_box&#39;},
    ],
    &#39;fit_ramps&#39;: [
        {&#39;key&#39;: &#39;save&#39;,
         &#39;name&#39;: &#39;Save output&#39;,
         &#39;value&#39;: False,
         &#39;description&#39;: &#39;Save output data to disk&#39;,
         &#39;dtype&#39;: &#39;bool&#39;,
         &#39;wtype&#39;: &#39;check_box&#39;},
        {&#39;key&#39;: &#39;parallel&#39;,
         &#39;name&#39;: &#39;Use parallel processing&#39;,
         &#39;value&#39;: True,
         &#39;hidden&#39;: False,
         &#39;description&#39;: &#39;If set, processing will be &#39;
                        &#39;distributed across multiple cores.&#39;,
         &#39;dtype&#39;: &#39;bool&#39;,
         &#39;wtype&#39;: &#39;check_box&#39;},
        {&#39;key&#39;: &#39;s2n&#39;,
         &#39;name&#39;: &#39;Signal-to-noise threshold&#39;,
         &#39;value&#39;: 10.0,
         &#39;description&#39;: &#39;S/N threshold for data rejection. &#39;
                        &#39;Set to -1 to turn off filtering.&#39;,
         &#39;dtype&#39;: &#39;float&#39;,
         &#39;wtype&#39;: &#39;text_box&#39;},
        {&#39;key&#39;: &#39;thresh&#39;,
         &#39;name&#39;: &#39;Combination threshold (sigma)&#39;,
         &#39;value&#39;: 5.0,
         &#39;description&#39;: &#39;Threshold for ramp fit rejection.&#39;,
         &#39;dtype&#39;: &#39;float&#39;,
         &#39;wtype&#39;: &#39;text_box&#39;},
        {&#39;key&#39;: &#39;badpix_file&#39;,
         &#39;name&#39;: &#39;Bad pixel file&#39;,
         &#39;value&#39;: &#39;&#39;,
         &#39;description&#39;: &#39;Text file containing bad pixel locations&#39;,
         &#39;dtype&#39;: &#39;str&#39;,
         &#39;wtype&#39;: &#39;pick_file&#39;},
        {&#39;key&#39;: &#39;remove_first&#39;,
         &#39;name&#39;: &#39;Remove 1st 2 ramps&#39;,
         &#39;value&#39;: True,
         &#39;description&#39;: &#39;If set, the first two ramps will &#39;
                        &#39;be removed before fitting.&#39;,
         &#39;dtype&#39;: &#39;bool&#39;,
         &#39;wtype&#39;: &#39;check_box&#39;},
        {&#39;key&#39;: &#39;subtract_bias&#39;,
         &#39;name&#39;: &#39;Subtract bias&#39;,
         &#39;value&#39;: True,
         &#39;description&#39;: &#39;If set, the value from the open zeroth &#39;
                        &#39;spexel will be subtracted before fitting.&#39;,
         &#39;dtype&#39;: &#39;bool&#39;,
         &#39;wtype&#39;: &#39;check_box&#39;},
        {&#39;key&#39;: &#39;indpos_sigma&#39;,
         &#39;name&#39;: &#39;Threshold for grating instability&#39;,
         &#39;value&#39;: 3.0,
         &#39;description&#39;: &#39;Threshold in sigma for allowed ramp-averaged &#39;
                        &#39;deviation from expected grating position. \n&#39;
                        &#39;Set to -1 to turn off filtering.&#39;,
         &#39;dtype&#39;: &#39;float&#39;,
         &#39;wtype&#39;: &#39;text_box&#39;},
    ],
    &#39;subtract_chops&#39;: [
        {&#39;key&#39;: &#39;save&#39;,
         &#39;name&#39;: &#39;Save output&#39;,
         &#39;value&#39;: False,
         &#39;description&#39;: &#39;Save output data to disk&#39;,
         &#39;dtype&#39;: &#39;bool&#39;,
         &#39;wtype&#39;: &#39;check_box&#39;},
        {&#39;key&#39;: &#39;parallel&#39;,
         &#39;name&#39;: &#39;Use parallel processing&#39;,
         &#39;value&#39;: False,
         &#39;hidden&#39;: True,
         &#39;description&#39;: &#39;If set, processing will be &#39;
                        &#39;distributed across multiple cores.&#39;,
         &#39;dtype&#39;: &#39;bool&#39;,
         &#39;wtype&#39;: &#39;check_box&#39;},
    ],
    &#39;combine_nods&#39;: [
        {&#39;key&#39;: &#39;save&#39;,
         &#39;name&#39;: &#39;Save output&#39;,
         &#39;value&#39;: False,
         &#39;description&#39;: &#39;Save output data to disk&#39;,
         &#39;dtype&#39;: &#39;bool&#39;,
         &#39;wtype&#39;: &#39;check_box&#39;},
        {&#39;key&#39;: &#39;b_nod_method&#39;,
         &#39;name&#39;: &#39;Method for combining off-beam images&#39;,
         &#39;wtype&#39;: &#39;combo_box&#39;,
         &#39;options&#39;: [&#39;nearest&#39;, &#39;average&#39;, &#39;interpolate&#39;],
         &#39;option_index&#39;: 0,
         &#39;description&#39;: &#39;For C2NC2 only: nearest takes closest B in time,\n&#39;
                        &#39;average will mean-combine before and after B nods,\n&#39;
                        &#39;interpolate will linearly interpolate before and\n&#39;
                        &#39;after B nods to the A nod time.&#39;},
        {&#39;key&#39;: &#39;offbeam&#39;,
         &#39;name&#39;: &#39;Propagate off-beam image instead of on-beam&#39;,
         &#39;value&#39;: False,
         &#39;description&#39;: &#39;Select to propagate B nods, or to subtract A from B.&#39;,
         &#39;dtype&#39;: &#39;bool&#39;,
         &#39;wtype&#39;: &#39;check_box&#39;},
    ],
    &#39;lambda_calibrate&#39;: [
        {&#39;key&#39;: &#39;save&#39;,
         &#39;name&#39;: &#39;Save output&#39;,
         &#39;value&#39;: False,
         &#39;description&#39;: &#39;Save output data to disk&#39;,
         &#39;dtype&#39;: &#39;bool&#39;,
         &#39;wtype&#39;: &#39;check_box&#39;},
        {&#39;key&#39;: &#39;parallel&#39;,
         &#39;name&#39;: &#39;Use parallel processing&#39;,
         &#39;value&#39;: False,
         &#39;hidden&#39;: True,
         &#39;description&#39;: &#39;If set, processing will be &#39;
                        &#39;distributed across multiple cores.&#39;,
         &#39;dtype&#39;: &#39;bool&#39;,
         &#39;wtype&#39;: &#39;check_box&#39;},
    ],
    &#39;spatial_calibrate&#39;: [
        {&#39;key&#39;: &#39;save&#39;,
         &#39;name&#39;: &#39;Save output&#39;,
         &#39;value&#39;: False,
         &#39;description&#39;: &#39;Save output data to disk&#39;,
         &#39;dtype&#39;: &#39;bool&#39;,
         &#39;wtype&#39;: &#39;check_box&#39;},
        {&#39;key&#39;: &#39;parallel&#39;,
         &#39;name&#39;: &#39;Use parallel processing&#39;,
         &#39;value&#39;: False,
         &#39;hidden&#39;: True,
         &#39;description&#39;: &#39;If set, processing will be &#39;
                        &#39;distributed across multiple cores.&#39;,
         &#39;dtype&#39;: &#39;bool&#39;,
         &#39;wtype&#39;: &#39;check_box&#39;},
        {&#39;key&#39;: &#39;rotate&#39;,
         &#39;name&#39;: &#39;Rotate by detector angle&#39;,
         &#39;value&#39;: True,
         &#39;description&#39;: &#39;If set, output grid is rotated to North up.&#39;,
         &#39;dtype&#39;: &#39;bool&#39;,
         &#39;wtype&#39;: &#39;check_box&#39;},
        {&#39;key&#39;: &#39;flipsign&#39;,
         &#39;name&#39;: &#39;Flip RA/DEC sign convention&#39;,
         &#39;wtype&#39;: &#39;radio_button&#39;,
         &#39;options&#39;: [&#39;flip&#39;, &#39;no flip&#39;, &#39;default&#39;],
         &#39;option_index&#39;: 2,
         &#39;description&#39;: &#39;Default will determine correct setting &#39;
                        &#39;from the observation date.&#39;},
    ],
    &#39;apply_static_flat&#39;: [
        {&#39;key&#39;: &#39;save&#39;,
         &#39;name&#39;: &#39;Save output&#39;,
         &#39;value&#39;: False,
         &#39;description&#39;: &#39;Save output data to disk&#39;,
         &#39;dtype&#39;: &#39;bool&#39;,
         &#39;wtype&#39;: &#39;check_box&#39;},
        {&#39;key&#39;: &#39;parallel&#39;,
         &#39;name&#39;: &#39;Use parallel processing&#39;,
         &#39;value&#39;: False,
         &#39;hidden&#39;: True,
         &#39;description&#39;: &#39;If set, processing will be &#39;
                        &#39;distributed across multiple cores.&#39;,
         &#39;dtype&#39;: &#39;bool&#39;,
         &#39;wtype&#39;: &#39;check_box&#39;},
        {&#39;key&#39;: &#39;skip_flat&#39;,
         &#39;name&#39;: &#39;Skip flat correction&#39;,
         &#39;value&#39;: False,
         &#39;description&#39;: &#39;If set, data will not be flat corrected.&#39;,
         &#39;dtype&#39;: &#39;bool&#39;,
         &#39;wtype&#39;: &#39;check_box&#39;},
        {&#39;key&#39;: &#39;skip_err&#39;,
         &#39;name&#39;: &#39;Skip flat error propagation&#39;,
         &#39;value&#39;: True,
         &#39;description&#39;: &#39;If set, flat errors will not be propagated.&#39;,
         &#39;dtype&#39;: &#39;bool&#39;,
         &#39;wtype&#39;: &#39;check_box&#39;},
    ],
    &#39;combine_grating_scans&#39;: [
        {&#39;key&#39;: &#39;save&#39;,
         &#39;name&#39;: &#39;Save output&#39;,
         &#39;value&#39;: True,
         &#39;description&#39;: &#39;Save output data to disk&#39;,
         &#39;dtype&#39;: &#39;bool&#39;,
         &#39;wtype&#39;: &#39;check_box&#39;},
        {&#39;key&#39;: &#39;parallel&#39;,
         &#39;name&#39;: &#39;Use parallel processing&#39;,
         &#39;value&#39;: False,
         &#39;hidden&#39;: True,
         &#39;description&#39;: &#39;If set, processing will be &#39;
                        &#39;distributed across multiple cores.&#39;,
         &#39;dtype&#39;: &#39;bool&#39;,
         &#39;wtype&#39;: &#39;check_box&#39;},
        {&#39;key&#39;: &#39;bias&#39;,
         &#39;name&#39;: &#39;Correct bias offset&#39;,
         &#39;value&#39;: True,
         &#39;description&#39;: &#39;If set, an additive offset between &#39;
                        &#39;overlapping scans will be removed.&#39;,
         &#39;dtype&#39;: &#39;bool&#39;,
         &#39;wtype&#39;: &#39;check_box&#39;},
    ],
    &#39;telluric_correct&#39;: [
        {&#39;key&#39;: &#39;save&#39;,
         &#39;name&#39;: &#39;Save output&#39;,
         &#39;value&#39;: False,
         &#39;description&#39;: &#39;Save output data to disk&#39;,
         &#39;dtype&#39;: &#39;bool&#39;,
         &#39;wtype&#39;: &#39;check_box&#39;},
        {&#39;key&#39;: &#39;parallel&#39;,
         &#39;name&#39;: &#39;Use parallel processing&#39;,
         &#39;value&#39;: False,
         &#39;hidden&#39;: True,
         &#39;description&#39;: &#39;If set, processing will be &#39;
                        &#39;distributed across multiple cores.&#39;,
         &#39;dtype&#39;: &#39;bool&#39;,
         &#39;wtype&#39;: &#39;check_box&#39;},
        {&#39;key&#39;: &#39;skip_tell&#39;,
         &#39;name&#39;: &#39;Skip telluric correction&#39;,
         &#39;value&#39;: False,
         &#39;description&#39;: &#39;If set, data will not be telluric corrected.&#39;,
         &#39;dtype&#39;: &#39;bool&#39;,
         &#39;wtype&#39;: &#39;check_box&#39;},
        {&#39;key&#39;: &#39;atran_dir&#39;,
         &#39;name&#39;: &#39;ATRAN directory&#39;,
         &#39;value&#39;: &#39;&#39;,
         &#39;description&#39;: &#39;Override default set of ATRAN FITS files&#39;,
         &#39;dtype&#39;: &#39;str&#39;,
         &#39;wtype&#39;: &#39;pick_directory&#39;},
        {&#39;key&#39;: &#39;cutoff&#39;,
         &#39;name&#39;: &#39;Cutoff value&#39;,
         &#39;value&#39;: 0.6,
         &#39;description&#39;: &#39;Below this value in fractional &#39;
                        &#39;transmission, flux values are set to NaN.&#39;,
         &#39;dtype&#39;: &#39;float&#39;,
         &#39;wtype&#39;: &#39;text_box&#39;},
        {&#39;key&#39;: &#39;use_wv&#39;,
         &#39;name&#39;: &#39;Use WV values&#39;,
         &#39;value&#39;: False,
         &#39;description&#39;: &#39;If set, water vapor values from the header will &#39;
                        &#39;be used to choose the correct ATRAN file.&#39;,
         &#39;dtype&#39;: &#39;bool&#39;,
         &#39;wtype&#39;: &#39;check_box&#39;},
    ],
    &#39;flux_calibrate&#39;: [
        {&#39;key&#39;: &#39;save&#39;,
         &#39;name&#39;: &#39;Save output&#39;,
         &#39;value&#39;: True,
         &#39;description&#39;: &#39;Save output data to disk&#39;,
         &#39;dtype&#39;: &#39;bool&#39;,
         &#39;wtype&#39;: &#39;check_box&#39;},
        {&#39;key&#39;: &#39;parallel&#39;,
         &#39;name&#39;: &#39;Use parallel processing&#39;,
         &#39;value&#39;: False,
         &#39;hidden&#39;: True,
         &#39;description&#39;: &#39;If set, processing will be &#39;
                        &#39;distributed across multiple cores.&#39;,
         &#39;dtype&#39;: &#39;bool&#39;,
         &#39;wtype&#39;: &#39;check_box&#39;},
        {&#39;key&#39;: &#39;skip_cal&#39;,
         &#39;name&#39;: &#39;Skip flux calibration&#39;,
         &#39;value&#39;: False,
         &#39;description&#39;: &#39;If set, data will not be calibrated.&#39;,
         &#39;dtype&#39;: &#39;bool&#39;,
         &#39;wtype&#39;: &#39;check_box&#39;},
        {&#39;key&#39;: &#39;response_file&#39;,
         &#39;name&#39;: &#39;Response file (.fits)&#39;,
         &#39;value&#39;: &#39;&#39;,
         &#39;description&#39;: &#39;Override default response file&#39;,
         &#39;dtype&#39;: &#39;str&#39;,
         &#39;wtype&#39;: &#39;pick_file&#39;},
    ],
    &#39;correct_wave_shift&#39;: [
        {&#39;key&#39;: &#39;save&#39;,
         &#39;name&#39;: &#39;Save output&#39;,
         &#39;value&#39;: False,
         &#39;description&#39;: &#39;Save output data to disk&#39;,
         &#39;dtype&#39;: &#39;bool&#39;,
         &#39;wtype&#39;: &#39;check_box&#39;},
        {&#39;key&#39;: &#39;parallel&#39;,
         &#39;name&#39;: &#39;Use parallel processing&#39;,
         &#39;value&#39;: False,
         &#39;hidden&#39;: True,
         &#39;description&#39;: &#39;If set, processing will be &#39;
                        &#39;distributed across multiple cores.&#39;,
         &#39;dtype&#39;: &#39;bool&#39;,
         &#39;wtype&#39;: &#39;check_box&#39;},
        {&#39;key&#39;: &#39;skip_shift&#39;,
         &#39;name&#39;: &#39;Skip wavelength shift correction&#39;,
         &#39;value&#39;: False,
         &#39;description&#39;: &#39;If set, wavelengths will not be corrected.&#39;,
         &#39;dtype&#39;: &#39;bool&#39;,
         &#39;wtype&#39;: &#39;check_box&#39;},
    ],
    &#39;resample&#39;: [
        {&#39;key&#39;: &#39;general_params&#39;,
         &#39;name&#39;: &#39;General Parameters&#39;,
         &#39;wtype&#39;: &#39;group&#39;},
        {&#39;key&#39;: &#39;save&#39;,
         &#39;name&#39;: &#39;Save output&#39;,
         &#39;value&#39;: True,
         &#39;description&#39;: &#39;Save output data to disk&#39;,
         &#39;dtype&#39;: &#39;bool&#39;,
         &#39;wtype&#39;: &#39;check_box&#39;},
        {&#39;key&#39;: &#39;parallel&#39;,
         &#39;name&#39;: &#39;Use parallel processing&#39;,
         &#39;value&#39;: True,
         &#39;hidden&#39;: False,
         &#39;description&#39;: &#39;If set, processing will be &#39;
                        &#39;distributed across multiple cores.&#39;,
         &#39;dtype&#39;: &#39;bool&#39;,
         &#39;wtype&#39;: &#39;check_box&#39;},
        {&#39;key&#39;: &#39;max_cores&#39;,
         &#39;name&#39;: &#39;Maximum cores to use&#39;,
         &#39;value&#39;: &#39;&#39;,
         &#39;description&#39;: &#39;Set to the maximum number of cores to use in \n&#39;
                        &#39;parallel processing. If not set, 1/2 of available \n&#39;
                        &#39;cores will be used.&#39;,
         &#39;dtype&#39;: &#39;int&#39;,
         &#39;wtype&#39;: &#39;text_box&#39;},
        {&#39;key&#39;: &#39;check_memory&#39;,
         &#39;name&#39;: &#39;Check memory use during resampling&#39;,
         &#39;value&#39;: True,
         &#39;description&#39;: &#39;Set to manage memory use and abort if more \n&#39;
                        &#39;memory is needed than is available. \n&#39;
                        &#39;Turn off to attempt processing anyway.&#39;,
         &#39;dtype&#39;: &#39;bool&#39;,
         &#39;wtype&#39;: &#39;check_box&#39;},
        {&#39;key&#39;: &#39;skip_coadd&#39;,
         &#39;name&#39;: &#39;Skip coadd&#39;,
         &#39;value&#39;: False,
         &#39;description&#39;: &#39;If set, separate cubes will be made &#39;
                        &#39;for each input file.&#39;,
         &#39;dtype&#39;: &#39;bool&#39;,
         &#39;wtype&#39;: &#39;check_box&#39;},
        {&#39;key&#39;: &#39;interpolate&#39;,
         &#39;name&#39;: &#39;Interpolate instead of fit&#39;,
         &#39;value&#39;: False,
         &#39;description&#39;: &#39;If set, cubes are separately interpolated, &#39;
                        &#39;then mean-combined. Not recommended for &#39;
                        &#39;dithered data.&#39;,
         &#39;dtype&#39;: &#39;bool&#39;,
         &#39;wtype&#39;: &#39;check_box&#39;},
        {&#39;key&#39;: &#39;error_weighting&#39;,
         &#39;name&#39;: &#39;Weight by errors&#39;,
         &#39;value&#39;: True,
         &#39;description&#39;: &#39;If set, flux fits are inversely weighted &#39;
                        &#39;by the error values.&#39;,
         &#39;dtype&#39;: &#39;bool&#39;,
         &#39;wtype&#39;: &#39;check_box&#39;},
        {&#39;key&#39;: &#39;fitthresh&#39;,
         &#39;name&#39;: &#39;Fit rejection threshold (sigma)&#39;,
         &#39;value&#39;: -1,
         &#39;description&#39;: &#39;Set higher to keep more fit values.&#39;,
         &#39;dtype&#39;: &#39;float&#39;,
         &#39;wtype&#39;: &#39;text_box&#39;},
        {&#39;key&#39;: &#39;posthresh&#39;,
         &#39;name&#39;: &#39;Positive outlier threshold (sigma)&#39;,
         &#39;value&#39;: -1,
         &#39;description&#39;: &#39;Set higher to keep more positive data.&#39;,
         &#39;dtype&#39;: &#39;float&#39;,
         &#39;wtype&#39;: &#39;text_box&#39;},
        {&#39;key&#39;: &#39;negthresh&#39;,
         &#39;name&#39;: &#39;Negative outlier threshold (sigma)&#39;,
         &#39;value&#39;: -1,
         &#39;description&#39;: &#39;Set higher to keep more negative data. &#39;
                        &#39;Set to 0 to turn off initial rejection pass.&#39;,
         &#39;dtype&#39;: &#39;float&#39;,
         &#39;wtype&#39;: &#39;text_box&#39;},
        {&#39;key&#39;: &#39;append_weights&#39;,
         &#39;name&#39;: &#39;Append distance weights to output file&#39;,
         &#39;value&#39;: False,
         &#39;description&#39;: &#39;If set, distance weights calculated by the &#39;
                        &#39;resampling algorithm will be appended to the &#39;
                        &#39;output FITS file.&#39;,
         &#39;dtype&#39;: &#39;bool&#39;,
         &#39;wtype&#39;: &#39;check_box&#39;},
        {&#39;key&#39;: &#39;skip_uncorrected&#39;,
         &#39;name&#39;: &#39;Skip computing the uncorrected flux cube&#39;,
         &#39;value&#39;: False,
         &#39;description&#39;: &#39;If set, the uncorrected flux data will be ignored.&#39;,
         &#39;dtype&#39;: &#39;bool&#39;,
         &#39;wtype&#39;: &#39;check_box&#39;},
        {&#39;key&#39;: &#39;otf_params&#39;,
         &#39;name&#39;: &#39;Scan Resampling Parameters&#39;,
         &#39;wtype&#39;: &#39;group&#39;},
        {&#39;key&#39;: &#39;scan_reduction&#39;,
         &#39;name&#39;: &#39;Use scan reduction before resample&#39;,
         &#39;value&#39;: False,
         &#39;description&#39;: &#39;If set, a scan reduction will be performed to &#39;
                        &#39;remove additional gains and background before &#39;
                        &#39;resampling.&#39;,
         &#39;dtype&#39;: &#39;bool&#39;,
         &#39;wtype&#39;: &#39;check_box&#39;},
        {&#39;key&#39;: &#39;save_scan&#39;,
         &#39;name&#39;: &#39;Save intermediate scan product&#39;,
         &#39;value&#39;: False,
         &#39;description&#39;: &#39;If set, the scan product will be saved to &#39;
                        &#39;disk as a FITS file.&#39;,
         &#39;dtype&#39;: &#39;bool&#39;,
         &#39;wtype&#39;: &#39;check_box&#39;},
        {&#39;key&#39;: &#39;scan_options&#39;,
         &#39;name&#39;: &#39;Scan options&#39;,
         &#39;value&#39;: &#39;&#39;,
         &#39;description&#39;: &#39;Parameters to pass to the scan reduction. \n&#39;
                        &#39;Enter as key=value pairs, space-separated.&#39;,
         &#39;dtype&#39;: &#39;str&#39;,
         &#39;wtype&#39;: &#39;text_box&#39;},
        {&#39;key&#39;: &#39;spatial_params&#39;,
         &#39;name&#39;: &#39;Spatial Resampling Parameters&#39;,
         &#39;wtype&#39;: &#39;group&#39;},
        {&#39;key&#39;: &#39;detector_coordinates&#39;,
         &#39;name&#39;: &#39;Create map in detector coordinates&#39;,
         &#39;value&#39;: False,
         &#39;description&#39;: &#39;If set, data are combined in arsecond offsets &#39;
                        &#39;from center, rather than sky coordinates. \n&#39;
                        &#39;If not set, detector coordinates are used for &#39;
                        &#39;nonsidereal targets and sky coordinates otherwise.&#39;,
         &#39;dtype&#39;: &#39;bool&#39;,
         &#39;wtype&#39;: &#39;check_box&#39;},
        {&#39;key&#39;: &#39;xy_oversample&#39;,
         &#39;name&#39;: &#39;Spatial oversample (pixels per mean FWHM)&#39;,
         &#39;value&#39;: 5.0,
         &#39;description&#39;: &#39;Set higher to oversample more.&#39;,
         &#39;dtype&#39;: &#39;float&#39;,
         &#39;wtype&#39;: &#39;text_box&#39;},
        {&#39;key&#39;: &#39;xy_pixel_size&#39;,
         &#39;name&#39;: &#39;Output spatial pixel size (arcsec)&#39;,
         &#39;value&#39;: &#39;&#39;,
         &#39;description&#39;: &#39;If set, will override oversample parameter.&#39;,
         &#39;dtype&#39;: &#39;float&#39;,
         &#39;wtype&#39;: &#39;text_box&#39;},
        {&#39;key&#39;: &#39;xy_order&#39;,
         &#39;name&#39;: &#39;Spatial surface fit order&#39;,
         &#39;value&#39;: 2,
         &#39;description&#39;: &#39;Set lower for more stable fits.&#39;,
         &#39;dtype&#39;: &#39;int&#39;,
         &#39;wtype&#39;: &#39;text_box&#39;},
        {&#39;key&#39;: &#39;xy_window&#39;,
         &#39;name&#39;: &#39;Spatial fit window (factor times FWHM)&#39;,
         &#39;value&#39;: 3.0,
         &#39;description&#39;: &#39;Set higher to fit more pixels.&#39;,
         &#39;dtype&#39;: &#39;float&#39;,
         &#39;wtype&#39;: &#39;text_box&#39;},
        {&#39;key&#39;: &#39;xy_smoothing&#39;,
         &#39;name&#39;: &#39;Spatial smoothing radius (factor times FWHM)&#39;,
         &#39;value&#39;: 1.0,
         &#39;description&#39;: &#39;Set higher to smooth over more pixels.\n&#39;
                        &#39;Set to 0 to turn off distance weights.&#39;,
         &#39;dtype&#39;: &#39;float&#39;,
         &#39;wtype&#39;: &#39;text_box&#39;},
        {&#39;key&#39;: &#39;xy_edge_threshold&#39;,
         &#39;name&#39;: &#39;Spatial edge threshold (0-1)&#39;,
         &#39;value&#39;: 0.7,
         &#39;description&#39;: &#39;Set higher to set more edge pixels to NaN.&#39;,
         &#39;dtype&#39;: &#39;float&#39;,
         &#39;wtype&#39;: &#39;text_box&#39;},
        {&#39;key&#39;: &#39;adaptive_algorithm&#39;,
         &#39;name&#39;: &#39;Adaptive smoothing algorithm&#39;,
         &#39;wtype&#39;: &#39;combo_box&#39;,
         &#39;options&#39;: [&#39;scaled&#39;, &#39;shaped&#39;, &#39;none&#39;],
         &#39;option_index&#39;: 2,
         &#39;description&#39;: &#39;If scaled, only the size is allowed to vary.\n&#39;
                        &#39;If shaped, the kernel shape and rotation may \n&#39;
                        &#39;also vary. If none, the kernel will not vary.&#39;},
        {&#39;key&#39;: &#39;spec_params&#39;,
         &#39;name&#39;: &#39;Spectral Resampling Parameters&#39;,
         &#39;wtype&#39;: &#39;group&#39;},
        {&#39;key&#39;: &#39;w_oversample&#39;,
         &#39;name&#39;: &#39;Spectral oversample (pixels per mean FWHM)&#39;,
         &#39;value&#39;: 8.0,
         &#39;description&#39;: &#39;Set higher to oversample more.&#39;,
         &#39;dtype&#39;: &#39;float&#39;,
         &#39;wtype&#39;: &#39;text_box&#39;},
        {&#39;key&#39;: &#39;w_pixel_size&#39;,
         &#39;name&#39;: &#39;Output spectral pixel size (um)&#39;,
         &#39;value&#39;: &#39;&#39;,
         &#39;description&#39;: &#39;If set, will override oversample parameter.&#39;,
         &#39;dtype&#39;: &#39;float&#39;,
         &#39;wtype&#39;: &#39;text_box&#39;},
        {&#39;key&#39;: &#39;w_order&#39;,
         &#39;name&#39;: &#39;Spectral surface fit order&#39;,
         &#39;value&#39;: 2,
         &#39;description&#39;: &#39;Set lower for more stable fits.&#39;,
         &#39;dtype&#39;: &#39;int&#39;,
         &#39;wtype&#39;: &#39;text_box&#39;},
        {&#39;key&#39;: &#39;w_window&#39;,
         &#39;name&#39;: &#39;Spectral fit window (factor times FWHM)&#39;,
         &#39;value&#39;: 0.50,
         &#39;description&#39;: &#39;Set higher to fit more pixels.&#39;,
         &#39;dtype&#39;: &#39;float&#39;,
         &#39;wtype&#39;: &#39;text_box&#39;},
        {&#39;key&#39;: &#39;w_smoothing&#39;,
         &#39;name&#39;: &#39;Spectral smoothing radius (factor times FWHM)&#39;,
         &#39;value&#39;: 0.25,
         &#39;description&#39;: &#39;Set higher to smooth over more pixels.&#39;,
         &#39;dtype&#39;: &#39;float&#39;,
         &#39;wtype&#39;: &#39;text_box&#39;},
        {&#39;key&#39;: &#39;w_edge_threshold&#39;,
         &#39;name&#39;: &#39;Spectral edge threshold (0-1)&#39;,
         &#39;value&#39;: 0.5,
         &#39;description&#39;: &#39;Set higher to set more edge pixels to NaN.&#39;,
         &#39;dtype&#39;: &#39;float&#39;,
         &#39;wtype&#39;: &#39;text_box&#39;},
    ],
    &#39;specmap&#39;: [
        {&#39;key&#39;: &#39;skip_preview&#39;,
         &#39;name&#39;: &#39;Skip making the preview image&#39;,
         &#39;value&#39;: False,
         &#39;description&#39;: &#39;If set, the preview image will not be generated.&#39;,
         &#39;dtype&#39;: &#39;bool&#39;,
         &#39;wtype&#39;: &#39;check_box&#39;},
        {&#39;key&#39;: &#39;extension&#39;,
         &#39;name&#39;: &#39;Extension to map&#39;,
         &#39;value&#39;: &#39;FLUX&#39;,
         &#39;description&#39;: &#39;Usually FLUX, but UNCORRECTED_FLUX is &#39;
                        &#39;sometimes better.&#39;,
         &#39;dtype&#39;: &#39;str&#39;,
         &#39;wtype&#39;: &#39;text_box&#39;},
        {&#39;key&#39;: &#39;slice_method&#39;,
         &#39;name&#39;: &#39;Method for selecting spectral slice&#39;,
         &#39;wtype&#39;: &#39;combo_box&#39;,
         &#39;options&#39;: [&#39;reference&#39;, &#39;peak&#39;],
         &#39;option_index&#39;: 0,
         &#39;description&#39;: &#39;The display image will be selected from the &#39;
                        &#39;cube either at the reference wavelength \n&#39;
                        &#39;(G_WAVE_B/R) or at the peak signal-to-noise &#39;
                        &#39;point in the cube.&#39;},
        {&#39;key&#39;: &#39;point_method&#39;,
         &#39;name&#39;: &#39;Method for selecting spatial point&#39;,
         &#39;wtype&#39;: &#39;combo_box&#39;,
         &#39;options&#39;: [&#39;reference&#39;, &#39;peak&#39;],
         &#39;option_index&#39;: 1,
         &#39;description&#39;: &#39;The display spectrum will be selected from the &#39;
                        &#39;cube either at the reference position \n&#39;
                        &#39;(OBSLAM/BET) or at the peak flux in the &#39;
                        &#39;selected spectral slice.&#39;},
        {&#39;key&#39;: &#39;override_slice&#39;,
         &#39;name&#39;: &#39;Override wavelength slice&#39;,
         &#39;value&#39;: &#39;&#39;,
         &#39;description&#39;: &#39;Manually specify the wavelength slice &#39;
                        &#39;(zero-indexed) for the image.&#39;,
         &#39;dtype&#39;: &#39;str&#39;,
         &#39;wtype&#39;: &#39;text_box&#39;},
        {&#39;key&#39;: &#39;override_point&#39;,
         &#39;name&#39;: &#39;Override spatial point&#39;,
         &#39;value&#39;: &#39;&#39;,
         &#39;description&#39;: &quot;Manually specify the spatial &quot;
                        &quot;index for the spectrum, as &#39;x,y&#39;, &quot;
                        &quot;zero-indexed.&quot;,
         &#39;dtype&#39;: &#39;str&#39;,
         &#39;wtype&#39;: &#39;text_box&#39;},
        {&#39;key&#39;: &#39;ignore_outer&#39;,
         &#39;name&#39;: &#39;Fraction of outer wavelengths to ignore&#39;,
         &#39;value&#39;: 0.2,
         &#39;description&#39;: &#39;Used with method = peak. Set to 0 to include all &#39;
                        &#39;wavelengths in calculating signal peak.&#39;,
         &#39;dtype&#39;: &#39;float&#39;,
         &#39;wtype&#39;: &#39;text_box&#39;},
        {&#39;key&#39;: &#39;colormap&#39;,
         &#39;name&#39;: &#39;Color map&#39;,
         &#39;value&#39;: &#39;plasma&#39;,
         &#39;description&#39;: &#39;Matplotlib color map name.&#39;,
         &#39;dtype&#39;: &#39;str&#39;,
         &#39;wtype&#39;: &#39;text_box&#39;},
        {&#39;key&#39;: &#39;scale&#39;,
         &#39;name&#39;: &#39;Flux scale for image&#39;,
         &#39;value&#39;: [0.25, 99.9],
         &#39;description&#39;: &#39;Specify a low and high percentile value for &#39;
                        &#39;the image scale, e.g. [0,99].&#39;,
         &#39;dtype&#39;: &#39;floatlist&#39;,
         &#39;wtype&#39;: &#39;text_box&#39;},
        {&#39;key&#39;: &#39;n_contour&#39;,
         &#39;name&#39;: &#39;Number of contours&#39;,
         &#39;value&#39;: 0,
         &#39;description&#39;: &#39;Set to 0 to turn off countours.&#39;,
         &#39;dtype&#39;: &#39;int&#39;,
         &#39;wtype&#39;: &#39;text_box&#39;},
        {&#39;key&#39;: &#39;contour_color&#39;,
         &#39;name&#39;: &#39;Contour color&#39;,
         &#39;value&#39;: &#39;gray&#39;,
         &#39;description&#39;: &#39;Matplotlib color name.&#39;,
         &#39;dtype&#39;: &#39;str&#39;,
         &#39;wtype&#39;: &#39;text_box&#39;},
        {&#39;key&#39;: &#39;fill_contours&#39;,
         &#39;name&#39;: &#39;Filled contours&#39;,
         &#39;value&#39;: False,
         &#39;description&#39;: &#39;If set, contours will be filled instead of overlaid.&#39;,
         &#39;dtype&#39;: &#39;bool&#39;,
         &#39;wtype&#39;: &#39;check_box&#39;},
        {&#39;key&#39;: &#39;grid&#39;,
         &#39;name&#39;: &#39;Overlay grid&#39;,
         &#39;value&#39;: False,
         &#39;description&#39;: &#39;If set, a coordinate grid will be overlaid on &#39;
                        &#39;the image.&#39;,
         &#39;dtype&#39;: &#39;bool&#39;,
         &#39;wtype&#39;: &#39;check_box&#39;},
        {&#39;key&#39;: &#39;beam&#39;,
         &#39;name&#39;: &#39;Beam marker&#39;,
         &#39;value&#39;: False,
         &#39;description&#39;: &#39;If set, a beam marker will be added to the image.&#39;,
         &#39;dtype&#39;: &#39;bool&#39;,
         &#39;wtype&#39;: &#39;check_box&#39;},
        {&#39;key&#39;: &#39;atran_plot&#39;,
         &#39;name&#39;: &#39;Overplot transmission&#39;,
         &#39;value&#39;: True,
         &#39;description&#39;: &#39;If set, the atmospheric transmission spectrum will\n &#39;
                        &#39;be displayed in the spectral plot.&#39;,
         &#39;dtype&#39;: &#39;bool&#39;,
         &#39;wtype&#39;: &#39;check_box&#39;},
        {&#39;key&#39;: &#39;error_plot&#39;,
         &#39;name&#39;: &#39;Overplot error range&#39;,
         &#39;value&#39;: True,
         &#39;description&#39;: &#39;If set, the error range will\n &#39;
                        &#39;be overlaid on the spectral plot.&#39;,
         &#39;dtype&#39;: &#39;bool&#39;,
         &#39;wtype&#39;: &#39;check_box&#39;},
        {&#39;key&#39;: &#39;spec_scale&#39;,
         &#39;name&#39;: &#39;Flux scale for spectral plot&#39;,
         &#39;value&#39;: [0, 100],
         &#39;description&#39;: &#39;Specify a low and high percentile value for &#39;
                        &#39;the spectral flux scale, e.g. [0,99].&#39;,
         &#39;dtype&#39;: &#39;floatlist&#39;,
         &#39;wtype&#39;: &#39;text_box&#39;},
        {&#39;key&#39;: &#39;watermark&#39;,
         &#39;name&#39;: &#39;Watermark text&#39;,
         &#39;value&#39;: &#39;&#39;,
         &#39;description&#39;: &#39;Text to add to image as a watermark.&#39;,
         &#39;dtype&#39;: &#39;str&#39;,
         &#39;wtype&#39;: &#39;text_box&#39;},
    ],
}


<div class="viewcode-block" id="FIFILSParameters">
<a class="viewcode-back" href="../../../../../api/sofia_redux.pipeline.sofia.parameters.fifils_parameters.FIFILSParameters.html#sofia_redux.pipeline.sofia.parameters.fifils_parameters.FIFILSParameters">[docs]</a>
class FIFILSParameters(Parameters):
    &quot;&quot;&quot;Reduction parameters for the FIFI-LS pipeline.&quot;&quot;&quot;
    def __init__(self, basehead=None):
        &quot;&quot;&quot;
        Initialize parameters with default values.

        The baseline header may be used to override default parameters.

        Parameters
        ----------
        basehead : dict-like
            Baseline header for retrieving instrument or observation mode.
        &quot;&quot;&quot;
        super().__init__(DEFAULT)
        self.basehead = basehead

<div class="viewcode-block" id="FIFILSParameters.copy">
<a class="viewcode-back" href="../../../../../api/sofia_redux.pipeline.sofia.parameters.fifils_parameters.FIFILSParameters.html#sofia_redux.pipeline.sofia.parameters.fifils_parameters.FIFILSParameters.copy">[docs]</a>
    def copy(self):
        &quot;&quot;&quot;
        Return a copy of the parameters.

        Overrides default copy to add in basehead attribute.

        Returns
        -------
        Parameters
        &quot;&quot;&quot;
        new = super().copy()
        new.basehead = self.basehead.copy()
        return new</div>


<div class="viewcode-block" id="FIFILSParameters.resample">
<a class="viewcode-back" href="../../../../../api/sofia_redux.pipeline.sofia.parameters.fifils_parameters.FIFILSParameters.html#sofia_redux.pipeline.sofia.parameters.fifils_parameters.FIFILSParameters.resample">[docs]</a>
    def resample(self, step_index):
        &quot;&quot;&quot;
        Modify parameters for the resample step.

        Sets default output pixel size by channel.

        Parameters
        ----------
        step_index : int
            Reduction recipe index for the step.
        &quot;&quot;&quot;
        # read channel from header if possible
        if self.basehead is not None:
            channel = self.basehead.get(&#39;DETCHAN&#39;, &#39;UNKNOWN&#39;)
            channel = str(channel).strip().upper()
            if channel == &#39;BLUE&#39;:
                self.current[step_index].set_value(&#39;xy_pixel_size&#39;, 1.5)
            elif channel == &#39;RED&#39;:
                self.current[step_index].set_value(&#39;xy_pixel_size&#39;, 3.0)</div>
</div>

</pre></div>

            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><h3>Page Contents</h3>


        </div>
      </div>
      <div class="clearer"></div>
    </div>
<footer class="footer">
  <p class="pull-right"> &nbsp;
    <a href="#">Back to Top</a></p>
  <p>
    &copy; Copyright 2024, SOFIA-USRA.<br/>
    Created using <a href="http://www.sphinx-doc.org/en/stable/">Sphinx</a> 7.2.6. &nbsp;
    Last built 05 Feb 2024. <br/>
  </p>
</footer>
  </body>
</html>