<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>check_orders_with_counts &#8212; sofia_redux v1.3.4.dev38+g92ea2f4</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sofia.css?v=3fe2c07e" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=eafc0fe6" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    
    <script src="../_static/jquery.js?v=5d32c60e"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
    <script src="../_static/documentation_options.js?v=6aa39468"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script type="text/javascript" src="../_static/sidebar.js"></script>
    <script type="text/javascript" src="../_static/copybutton.js"></script>
    <link rel="icon" href="../_static/redux.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="check_orders_without_bounds" href="sofia_redux.toolkit.resampling.check_orders_without_bounds.html" />
    <link rel="prev" title="check_orders_with_bounds" href="sofia_redux.toolkit.resampling.check_orders_with_bounds.html" />
    <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:200,600' rel='stylesheet' type='text/css'/>

  </head><body>
<div class="topbar">
  <a class="brand" title="Documentation Home" href="../index.html"><span id="logotext1">SOFIA</span><span id="logotext2">Redux</span><span id="logotext3">:docs</span></a>
  <ul>
    <li><a class="homelink" title="SOFIA Homepage" href="https://irsa.ipac.caltech.edu/Missions/sofia.html"></a></li>
    <li><a title="General Index" href="../genindex.html">Index</a></li>
    <li><a title="Module Index" href="../py-modindex.html">Modules</a></li>
    <li>
      
      
<form action="../search.html" method="get">
  <input type="text" name="q" placeholder="Search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
      
    </li>
  </ul>
</div>

<div class="related">
    <h3>Navigation</h3>
    <ul>
      <li class="right">
	<a href="sofia_redux.toolkit.resampling.check_orders_without_bounds.html" title="check_orders_without_bounds">
	  next &raquo;
	</a>
      </li>
      <li class="right">
	<a href="sofia_redux.toolkit.resampling.check_orders_with_bounds.html" title="check_orders_with_bounds">
	  &laquo; previous
	</a>
	 |
      </li>
      <li>
	<a href="../index.html">sofia_redux v1.3.4.dev38+g92ea2f4</a>
	 &#187;
      </li>
      <li><a href="../sofia_redux/index.html" >SOFIA Redux</a> &#187;</li>
      <li><a href="../manuals/fifils/developers/developers.html" accesskey="U">FIFI-LS Redux Developer’s Manual</a> &#187;</li>
      
      <li>check_orders_with_counts</li> 
    </ul>
</div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="check-orders-with-counts">
<h1>check_orders_with_counts<a class="headerlink" href="#check-orders-with-counts" title="Link to this heading">¶</a></h1>
<dl class="py function">
<dt class="sig sig-object py" id="sofia_redux.toolkit.resampling.check_orders_with_counts">
<span class="sig-prename descclassname"><span class="pre">sofia_redux.toolkit.resampling.</span></span><span class="sig-name descname"><span class="pre">check_orders_with_counts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">orders</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">counts</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minimum_points</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_dimensions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">required</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sofia_redux/toolkit/resampling/resample_utils.html#check_orders_with_counts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sofia_redux.toolkit.resampling.check_orders_with_counts" title="Link to this definition">¶</a></dt>
<dd><p>Checks maximum order based only on the number of samples.</p>
<p>For <span class="math notranslate nohighlight">\(N\)</span> samples of <span class="math notranslate nohighlight">\(K\)</span> dimensional data, the minimum number of
samples required to perform a polynomial fit with <code class="xref py py-obj docutils literal notranslate"><span class="pre">orders</span></code> <span class="math notranslate nohighlight">\(o\)</span> is:</p>
<div class="math notranslate nohighlight">
\[N_{min} = \prod_{k=1}^{K}{(o_k + 1)}\]</div>
<p>if <span class="math notranslate nohighlight">\(o_k = o_0, \, \forall k\)</span>, then it is possible to suggest a lower
order over all dimensions in the case where <span class="math notranslate nohighlight">\(N &lt; N_{min}\)</span>.  This
is given as:</p>
<div class="math notranslate nohighlight">
\[o_k^{max} = min\{ floor(N ^ {1 / K} - 1), o_k \}\]</div>
<p>The suggested maximum order is returned by setting the <code class="xref py py-obj docutils literal notranslate"><span class="pre">required</span></code> keyword
to <a class="reference external" href="https://docs.python.org/3/library/constants.html#False" title="(in Python v3.12)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">False</span></code></a>.  If the orders vary between dimensions or <code class="xref py py-obj docutils literal notranslate"><span class="pre">required</span></code> is <a class="reference external" href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.12)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code></a>,
the value of <span class="math notranslate nohighlight">\(o_0\)</span> is set to -1 indicating a polynomial fit of the
desired order is not possible.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>orders</strong><span class="classifier">numpy.ndarray of int</span></dt><dd><p>The desired order of the fit as a (1,) or (n_dimensions,) array.  If
only a single value is supplied, it will be applied over all
dimensions.  This serves as an upper limit for the check.  If the
samples are distributed in a way that allows for a fit to be performed
using <code class="xref py py-obj docutils literal notranslate"><span class="pre">orders</span></code>, the return value will also be <code class="xref py py-obj docutils literal notranslate"><span class="pre">orders</span></code>.</p>
</dd>
<dt><strong>counts</strong><span class="classifier">int</span></dt><dd><p>The number of samples available for the fit.</p>
</dd>
<dt><strong>mask</strong><span class="classifier">numpy.ndarray of bool (n_coordinates,), optional</span></dt><dd><p>An optional mask where <a class="reference external" href="https://docs.python.org/3/library/constants.html#False" title="(in Python v3.12)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">False</span></code></a> values indicate the associated sample
should not be included in determining the maximum order.  The <code class="xref py py-obj docutils literal notranslate"><span class="pre">counts</span></code>
parameter will be ignored in favor of sum(mask).</p>
</dd>
<dt><strong>minimum_points</strong><span class="classifier">int, optional</span></dt><dd><p>The minimum number of points required to perform a fit of the desired
order, optionally passed in for speed.</p>
</dd>
<dt><strong>n_dimensions</strong><span class="classifier">int, optional</span></dt><dd><p>If <code class="xref py py-obj docutils literal notranslate"><span class="pre">orders</span></code> was supplied as an array of size 1, but should be applied
over multiple dimensions, the number of dimensions should be supplied.
Otherwise, the number of dimensions is taken to be equal to the number
of orders.</p>
</dd>
<dt><strong>required</strong><span class="classifier">bool, optional</span></dt><dd><p>If required is <a class="reference external" href="https://docs.python.org/3/library/constants.html#False" title="(in Python v3.12)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">False</span></code></a>, the maximum available order given the
distribution will be returned (up to a maximum of <code class="xref py py-obj docutils literal notranslate"><span class="pre">orders</span></code>).  If
required is <a class="reference external" href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.12)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code></a>, and the maximum available order is less than
<code class="xref py py-obj docutils literal notranslate"><span class="pre">orders</span></code>, the first element of the return value will be set to -1,
indicating the criteria was not met.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>maximum_orders</strong><span class="classifier">numpy.ndarray</span></dt><dd><p>An array of shape (1,) or (n_dimensions,) based on whether a single
<code class="xref py py-obj docutils literal notranslate"><span class="pre">orders</span></code> was passed in for all dimensions, or each dimension has a
separate order requirement.  If <code class="xref py py-obj docutils literal notranslate"><span class="pre">required</span></code> was set to <a class="reference external" href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.12)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code></a>, and the
sample distribution did not allow for the requested order, the first
element will be set to -1.  Unlike <a class="reference internal" href="sofia_redux.toolkit.resampling.check_orders_with_bounds.html#sofia_redux.toolkit.resampling.check_orders_with_bounds" title="sofia_redux.toolkit.resampling.check_orders_with_bounds"><code class="xref py py-func docutils literal notranslate"><span class="pre">check_orders_with_bounds()</span></code></a> or
<a class="reference internal" href="sofia_redux.toolkit.resampling.check_orders_without_bounds.html#sofia_redux.toolkit.resampling.check_orders_without_bounds" title="sofia_redux.toolkit.resampling.check_orders_without_bounds"><code class="xref py py-func docutils literal notranslate"><span class="pre">check_orders_without_bounds()</span></code></a>, a suggested maximum order can only
be returned by setting <code class="xref py py-obj docutils literal notranslate"><span class="pre">required</span></code> to <a class="reference external" href="https://docs.python.org/3/library/constants.html#False" title="(in Python v3.12)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">False</span></code></a> if <code class="xref py py-obj docutils literal notranslate"><span class="pre">orders</span></code> are equal
in all dimensions.  Otherwise, it is impossible to know which dimension
the order should be reduced for.  In this case, the first element of
<code class="xref py py-obj docutils literal notranslate"><span class="pre">maximum_orders</span></code> will be set to -1.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><h3>Page Contents</h3>
<ul>
<li><a class="reference internal" href="#">check_orders_with_counts</a><ul>
<li><a class="reference internal" href="#sofia_redux.toolkit.resampling.check_orders_with_counts"><code class="docutils literal notranslate"><span class="pre">check_orders_with_counts()</span></code></a></li>
</ul>
</li>
</ul>


        </div>
      </div>
      <div class="clearer"></div>
    </div>
<footer class="footer">
  <p class="pull-right">
    <a href="../_sources/api/sofia_redux.toolkit.resampling.check_orders_with_counts.rst.txt"
       rel="nofollow">Page Source</a> &nbsp;
    <a href="#">Back to Top</a></p>
  <p>
    &copy; Copyright 2024, SOFIA-USRA.<br/>
    Created using <a href="http://www.sphinx-doc.org/en/stable/">Sphinx</a> 7.2.6. &nbsp;
    Last built 05 Feb 2024. <br/>
  </p>
</footer>
  </body>
</html>