<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>evaluate_derivatives &#8212; sofia_redux v1.3.4.dev38+g92ea2f4</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sofia.css?v=3fe2c07e" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=eafc0fe6" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    
    <script src="../_static/jquery.js?v=5d32c60e"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
    <script src="../_static/documentation_options.js?v=6aa39468"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script type="text/javascript" src="../_static/sidebar.js"></script>
    <script type="text/javascript" src="../_static/copybutton.js"></script>
    <link rel="icon" href="../_static/redux.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="fasttrapz" href="sofia_redux.toolkit.resampling.fasttrapz.html" />
    <link rel="prev" title="evaluate_derivative" href="sofia_redux.toolkit.resampling.evaluate_derivative.html" />
    <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:200,600' rel='stylesheet' type='text/css'/>

  </head><body>
<div class="topbar">
  <a class="brand" title="Documentation Home" href="../index.html"><span id="logotext1">SOFIA</span><span id="logotext2">Redux</span><span id="logotext3">:docs</span></a>
  <ul>
    <li><a class="homelink" title="SOFIA Homepage" href="https://irsa.ipac.caltech.edu/Missions/sofia.html"></a></li>
    <li><a title="General Index" href="../genindex.html">Index</a></li>
    <li><a title="Module Index" href="../py-modindex.html">Modules</a></li>
    <li>
      
      
<form action="../search.html" method="get">
  <input type="text" name="q" placeholder="Search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
      
    </li>
  </ul>
</div>

<div class="related">
    <h3>Navigation</h3>
    <ul>
      <li class="right">
	<a href="sofia_redux.toolkit.resampling.fasttrapz.html" title="fasttrapz">
	  next &raquo;
	</a>
      </li>
      <li class="right">
	<a href="sofia_redux.toolkit.resampling.evaluate_derivative.html" title="evaluate_derivative">
	  &laquo; previous
	</a>
	 |
      </li>
      <li>
	<a href="../index.html">sofia_redux v1.3.4.dev38+g92ea2f4</a>
	 &#187;
      </li>
      <li><a href="../sofia_redux/index.html" >SOFIA Redux</a> &#187;</li>
      <li><a href="../manuals/fifils/developers/developers.html" accesskey="U">FIFI-LS Redux Developer’s Manual</a> &#187;</li>
      
      <li>evaluate_derivatives</li> 
    </ul>
</div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="evaluate-derivatives">
<h1>evaluate_derivatives<a class="headerlink" href="#evaluate-derivatives" title="Link to this heading">¶</a></h1>
<dl class="py function">
<dt class="sig sig-object py" id="sofia_redux.toolkit.resampling.evaluate_derivatives">
<span class="sig-prename descclassname"><span class="pre">sofia_redux.toolkit.resampling.</span></span><span class="sig-name descname"><span class="pre">evaluate_derivatives</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">coefficients</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phi_points</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">derivative_map</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sofia_redux/toolkit/resampling/resample_utils.html#evaluate_derivatives"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sofia_redux.toolkit.resampling.evaluate_derivatives" title="Link to this definition">¶</a></dt>
<dd><p>Calculates the derivative of a polynomial at multiple points.</p>
<p>Please see <a class="reference internal" href="sofia_redux.toolkit.resampling.polynomial_derivative_map.html#sofia_redux.toolkit.resampling.polynomial_derivative_map" title="sofia_redux.toolkit.resampling.polynomial_derivative_map"><code class="xref py py-func docutils literal notranslate"><span class="pre">polynomial_derivative_map()</span></code></a> for a full description of
how the derivatives are calculated from a polynomial equation defined by
<a class="reference internal" href="sofia_redux.toolkit.resampling.polynomial_exponents.html#sofia_redux.toolkit.resampling.polynomial_exponents" title="sofia_redux.toolkit.resampling.polynomial_exponents"><code class="xref py py-func docutils literal notranslate"><span class="pre">polynomial_exponents()</span></code></a>.  These also explain how one should transform
the independent variables to the “phi” (<span class="math notranslate nohighlight">\(\Phi\)</span>) terms (which may be
done using <a class="reference internal" href="sofia_redux.toolkit.resampling.polynomial_terms.html#sofia_redux.toolkit.resampling.polynomial_terms" title="sofia_redux.toolkit.resampling.polynomial_terms"><code class="xref py py-func docutils literal notranslate"><span class="pre">polynomial_terms()</span></code></a>).</p>
<p>The derivative at a point is calculated by:</p>
<div class="math notranslate nohighlight">
\[\frac{\partial f}{\partial X_k} = \sum_{m=1}^{M}
    {h_{k, 0, m} \cdot c_{h_{k, 1, m}} \cdot \Phi_{h_{k, 2, m}}}\]</div>
<p>for a polynomial equation consisting of <span class="math notranslate nohighlight">\(M\)</span> terms at the coordinate
<span class="math notranslate nohighlight">\(X\)</span> in dimension <span class="math notranslate nohighlight">\(k\)</span>, where <span class="math notranslate nohighlight">\(h\)</span> is the derivative map.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>coefficients</strong><span class="classifier">numpy.ndarray (n_terms,)</span></dt><dd><p>The coefficients of the polynomial equation for each term.</p>
</dd>
<dt><strong>phi_points</strong><span class="classifier">numpy.ndarray (n_terms, n_points)</span></dt><dd><p>The polynomial terms of the fitting equation at a multiple points.</p>
</dd>
<dt><strong>derivative_map</strong><span class="classifier">numpy.ndarray</span></dt><dd><p>An array of shape (n_dimensions, 3, n_valid_terms).  The second
dimension (of size 3) gives a constant multiplier in the first element,
the coefficient index in the second element, and the phi index in the
second element.  The third dimension will generally be of a smaller
size than the number of terms in the polynomial equation as not all
are required to calculate the derivative.  Due to the fact that some
dimensions may contain more valid terms than others, <code class="xref py py-obj docutils literal notranslate"><span class="pre">n_valid_terms</span></code>
is set to the maximum number of valid terms over all dimensions.  Any
invalid terms still remaining in the mapping array will have
multipliers set to zero, and index pointers set to -1.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>derivatives</strong><span class="classifier">numpy.ndarray (n_dimensions, n_points)</span></dt><dd><p>The partial derivative of the polynomial equation with respect to each
dimension at each point.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><h3>Page Contents</h3>
<ul>
<li><a class="reference internal" href="#">evaluate_derivatives</a><ul>
<li><a class="reference internal" href="#sofia_redux.toolkit.resampling.evaluate_derivatives"><code class="docutils literal notranslate"><span class="pre">evaluate_derivatives()</span></code></a></li>
</ul>
</li>
</ul>


        </div>
      </div>
      <div class="clearer"></div>
    </div>
<footer class="footer">
  <p class="pull-right">
    <a href="../_sources/api/sofia_redux.toolkit.resampling.evaluate_derivatives.rst.txt"
       rel="nofollow">Page Source</a> &nbsp;
    <a href="#">Back to Top</a></p>
  <p>
    &copy; Copyright 2024, SOFIA-USRA.<br/>
    Created using <a href="http://www.sphinx-doc.org/en/stable/">Sphinx</a> 7.2.6. &nbsp;
    Last built 05 Feb 2024. <br/>
  </p>
</footer>
  </body>
</html>