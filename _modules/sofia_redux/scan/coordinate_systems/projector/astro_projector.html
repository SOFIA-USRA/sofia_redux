<!DOCTYPE html>

<html lang="en" data-content_root="../../../../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>sofia_redux.scan.coordinate_systems.projector.astro_projector &#8212; sofia_redux v1.3.4.dev38+g92ea2f4</title>
    <link rel="stylesheet" type="text/css" href="../../../../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../../../../_static/bootstrap-sofia.css?v=3fe2c07e" />
    <link rel="stylesheet" type="text/css" href="../../../../../_static/graphviz.css?v=eafc0fe6" />
    <link rel="stylesheet" type="text/css" href="../../../../../_static/plot_directive.css" />
    
    <script src="../../../../../_static/jquery.js?v=5d32c60e"></script>
    <script src="../../../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
    <script src="../../../../../_static/documentation_options.js?v=6aa39468"></script>
    <script src="../../../../../_static/doctools.js?v=888ff710"></script>
    <script src="../../../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script type="text/javascript" src="../../../../../_static/sidebar.js"></script>
    <script type="text/javascript" src="../../../../../_static/copybutton.js"></script>
    <link rel="icon" href="../../../../../_static/redux.ico"/>
    <link rel="index" title="Index" href="../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../search.html" />
    <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:200,600' rel='stylesheet' type='text/css'/>

  </head><body>
<div class="topbar">
  <a class="brand" title="Documentation Home" href="../../../../../index.html"><span id="logotext1">SOFIA</span><span id="logotext2">Redux</span><span id="logotext3">:docs</span></a>
  <ul>
    <li><a class="homelink" title="SOFIA Homepage" href="https://irsa.ipac.caltech.edu/Missions/sofia.html"></a></li>
    <li><a title="General Index" href="../../../../../genindex.html">Index</a></li>
    <li><a title="Module Index" href="../../../../../py-modindex.html">Modules</a></li>
    <li>
      
      
<form action="../../../../../search.html" method="get">
  <input type="text" name="q" placeholder="Search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
      
    </li>
  </ul>
</div>

<div class="related">
    <h3>Navigation</h3>
    <ul>
      <li>
	<a href="../../../../../index.html">sofia_redux v1.3.4.dev38+g92ea2f4</a>
	 &#187;
      </li>
      <li><a href="../../../../index.html" accesskey="U">Module code</a> &#187;</li>
      
       
    </ul>
</div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <h1>Source code for sofia_redux.scan.coordinate_systems.projector.astro_projector</h1><div class="highlight"><pre>
<span></span># Licensed under a 3-clause BSD style license - see LICENSE.rst

from sofia_redux.scan.coordinate_systems.projector.projector_2d import \
    Projector2D
from sofia_redux.scan.coordinate_systems.equatorial_coordinates import \
    EquatorialCoordinates
from sofia_redux.scan.coordinate_systems.celestial_coordinates import \
    CelestialCoordinates
from sofia_redux.scan.coordinate_systems.horizontal_coordinates import \
    HorizontalCoordinates
from sofia_redux.scan.coordinate_systems.focal_plane_coordinates import \
    FocalPlaneCoordinates

__all__ = [&#39;AstroProjector&#39;]


<div class="viewcode-block" id="AstroProjector">
<a class="viewcode-back" href="../../../../../api/sofia_redux.scan.coordinate_systems.projector.astro_projector.AstroProjector.html#sofia_redux.scan.coordinate_systems.projector.astro_projector.AstroProjector">[docs]</a>
class AstroProjector(Projector2D):

    def __init__(self, projection):
        &quot;&quot;&quot;
        Initialize an astronomical projector.

        The astronomical projector is an extension of the 2-dimensional
        projector, used to store coordinates and projection offsets.  It is
        designed to better deal with astronomical coordinates (celestial
        coordinates), and other spherical coordinate types.

        Such coordinates will be taken from the projection reference
        coordinate. If those reference coordinates are celestial in nature,
        they will be converted to equatorial coordinates (if not already)
        and stored for subsequent use.  In these cases, one will always have
        access to the projected/deprojected coordinates in both the original
        celestial frame, and an equatorial frame.

        Parameters
        ----------
        projection : Projection2D
        &quot;&quot;&quot;
        self.equatorial = EquatorialCoordinates()
        self.celestial = None
        super().__init__(projection)
        if isinstance(self.coordinates, EquatorialCoordinates):
            self.equatorial = self.coordinates
        elif isinstance(self.coordinates, CelestialCoordinates):
            self.celestial = self.coordinates
            self.equatorial = EquatorialCoordinates()

<div class="viewcode-block" id="AstroProjector.copy">
<a class="viewcode-back" href="../../../../../api/sofia_redux.scan.coordinate_systems.projector.astro_projector.AstroProjector.html#sofia_redux.scan.coordinate_systems.projector.astro_projector.AstroProjector.copy">[docs]</a>
    def copy(self):
        &quot;&quot;&quot;
        Return a full copy of the Projector2D

        Returns
        -------
        AstroProjector
        &quot;&quot;&quot;
        return super().copy()</div>


    def __eq__(self, other):
        &quot;&quot;&quot;
        Check whether this projection is equal to another.

        Parameters
        ----------
        other : AstroProjection

        Returns
        -------
        equal : bool
        &quot;&quot;&quot;
        if self is other:
            return True
        if not isinstance(other, AstroProjector):
            return False
        if self.__class__ != other.__class__:  # pragma: no cover
            return False
        if self.celestial != other.celestial:
            return False
        if self.equatorial != other.equatorial:
            return False
        return True

<div class="viewcode-block" id="AstroProjector.is_horizontal">
<a class="viewcode-back" href="../../../../../api/sofia_redux.scan.coordinate_systems.projector.astro_projector.AstroProjector.html#sofia_redux.scan.coordinate_systems.projector.astro_projector.AstroProjector.is_horizontal">[docs]</a>
    def is_horizontal(self):
        &quot;&quot;&quot;
        Return whether the stored coordinates are horizontal.

        Returns
        -------
        bool
        &quot;&quot;&quot;
        return isinstance(self.coordinates, HorizontalCoordinates)</div>


<div class="viewcode-block" id="AstroProjector.is_focal_plane">
<a class="viewcode-back" href="../../../../../api/sofia_redux.scan.coordinate_systems.projector.astro_projector.AstroProjector.html#sofia_redux.scan.coordinate_systems.projector.astro_projector.AstroProjector.is_focal_plane">[docs]</a>
    def is_focal_plane(self):
        &quot;&quot;&quot;
        Return whether the stored coordinates are focal plane coordinates.

        Returns
        -------
        bool
        &quot;&quot;&quot;
        return isinstance(self.coordinates, FocalPlaneCoordinates)</div>


<div class="viewcode-block" id="AstroProjector.set_reference_coordinates">
<a class="viewcode-back" href="../../../../../api/sofia_redux.scan.coordinate_systems.projector.astro_projector.AstroProjector.html#sofia_redux.scan.coordinate_systems.projector.astro_projector.AstroProjector.set_reference_coordinates">[docs]</a>
    def set_reference_coordinates(self):
        &quot;&quot;&quot;
        Set the reference coordinates from the stored projection reference.

        If a celestial coordinate frame has been defined and equatorial
        coordinates exist, the celestial coordinates will be updated to the
        equivalent equatorial coordinates in the celestial frame.

        Returns
        -------
        None
        &quot;&quot;&quot;
        super().set_reference_coordinates()
        if self.celestial is not None:
            self.celestial.to_equatorial(self.equatorial)</div>


<div class="viewcode-block" id="AstroProjector.project_from_equatorial">
<a class="viewcode-back" href="../../../../../api/sofia_redux.scan.coordinate_systems.projector.astro_projector.AstroProjector.html#sofia_redux.scan.coordinate_systems.projector.astro_projector.AstroProjector.project_from_equatorial">[docs]</a>
    def project_from_equatorial(self, offsets=None):
        &quot;&quot;&quot;
        Project the stored equatorial coordinates to offsets.

        During this process, celestial coordinates will be updated to be
        equivalent to the equatorial coordinates in the celestial frame.

        Parameters
        ----------
        offsets : Coordinate2D, optional
            The coordinates used to store the results.  If not supplied,
            defaults to the projector stored offsets.

        Returns
        -------
        offsets : Coordinate2D
        &quot;&quot;&quot;
        if self.celestial is not None:
            self.celestial.from_equatorial(self.equatorial)
        return self.project(self.coordinates, offsets=offsets)</div>


<div class="viewcode-block" id="AstroProjector.deproject">
<a class="viewcode-back" href="../../../../../api/sofia_redux.scan.coordinate_systems.projector.astro_projector.AstroProjector.html#sofia_redux.scan.coordinate_systems.projector.astro_projector.AstroProjector.deproject">[docs]</a>
    def deproject(self, offsets=None, coordinates=None):
        &quot;&quot;&quot;
        Deproject offsets onto coordinates.

        If a celestial coordinate frame has been defined, it will be updated
        using the newly calculated equatorial coordinates if present.

        Parameters
        ----------
        offsets : Coordinate2D, optional
            The offsets to deproject.  If not supplied, defaults to the offsets
            stored in the projector.
        coordinates : Coordinate2D, optional
            The coordinates to hold the results.  If not supplied, defaults to
            the coordinates stored in the projector.

        Returns
        -------
        coordinates : Coordinate2D
        &quot;&quot;&quot;
        coordinates = super().deproject(
            offsets=offsets, coordinates=coordinates)
        if self.celestial is not None:
            self.celestial.to_equatorial(self.equatorial)
        return coordinates</div>
</div>

</pre></div>

            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><h3>Page Contents</h3>


        </div>
      </div>
      <div class="clearer"></div>
    </div>
<footer class="footer">
  <p class="pull-right"> &nbsp;
    <a href="#">Back to Top</a></p>
  <p>
    &copy; Copyright 2024, SOFIA-USRA.<br/>
    Created using <a href="http://www.sphinx-doc.org/en/stable/">Sphinx</a> 7.2.6. &nbsp;
    Last built 05 Feb 2024. <br/>
  </p>
</footer>
  </body>
</html>